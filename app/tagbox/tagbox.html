<link rel="import" href="../polymer/polymer/polymer.html">

<dom-module id="tag-box">
  <template>
    <style>
      :host
      {
        display: block;
        width: 100%;
        height: 100%;
      }

      a
      {
        text-decoration: none;
      }

      #selected-tags
      {
        width: 100%;
        min-height: 40px;        
      }

      #selected-tags .border
      {
        width: 80%;
        min-height: 40px;
        margin: auto;
        border-bottom: 1px solid white;        
      }

      #tag-list
      {
        padding: 15px;
        user-select: none;
      }

      .tag
      {
        color: white;
        font-size: 18px;
        padding: 5px 10px 3px 10px;
        box-sizing: border-box;
        overflow: hidden;
        border-radius: 3px;
        cursor: pointer;
        transition: background-color .2s;
      }

      .tag span
      {
        margin-left: 3px;
        color: #cccccc;
        font-size: 23px;
      }

      .tag:hover
      {
        background-color: blue;
      }
    </style>

    <div id="selected-tags">
      <div class="border"></div>
    </div>

    <div id="tag-list">
      <a class="tag">med<span>32</span></a>
    </div>

  </template>

  <script>
    class tagBox extends Polymer.Element
    {
      static get is()
      {
        return "tag-box";
      }

      static get properties()
      {
        return {
          tags: {type:Array,observer:"processTags"}
        };
      }

      ready()
      {
        super.ready();

        this.tagEvents();
      }

      processTags()
      {
        console.log(this.tags);
      }

      tagEvents()
      {
        var tags=this.$["tag-list"].querySelectorAll(".tag");
        var taglist=this.$["tag-list"];
        var selected=this.$["selected-tags"];

        for (var x=0,l=tags.length;x<l;x++)
        {
          
          tags[x].addEventListener("click",(e)=>{
            if (e.currentTarget.parentNode==selected)
            {
              taglist.insertBefore(e.currentTarget,taglist.firstChild);
              return;
            }

            selected.insertBefore(e.currentTarget,selected.firstChild);
          });
        }
      }
    }

    customElements.define(tagBox.is,tagBox);
  </script>
</dom-module>